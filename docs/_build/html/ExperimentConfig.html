

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Experiment config reference &mdash; Neural Network Intelligence v0.5.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tuners" href="tuners.html" />
    <link rel="prev" title="Search Space" href="SearchSpaceSpec.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html">
          

          
            
            <img src="_static/nni_logo_dark.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="QuickStart.html">QuickStart</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Reference.html">References</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="NNICTLDOC.html">Command Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="AnnotationSpec.html">Annotation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="SearchSpaceSpec.html">Search Space</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="Contribution.html">Contribute to NNI</a></li>
<li class="toctree-l1"><a class="reference internal" href="RELEASE.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Neural Network Intelligence</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="Tutorials.html">Tutorials</a> &raquo;</li>
        
          <li><a href="Installation.html">Installation of NNI</a> &raquo;</li>
        
      <li>Experiment config reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/ExperimentConfig.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="experiment-config-reference">
<h1>Experiment config reference<a class="headerlink" href="#experiment-config-reference" title="Permalink to this headline">¶</a></h1>
<p>A config file is needed when create an experiment, the path of the config file is provide to nnictl.
The config file is written in YAML format, and need to be written correctly.
This document describes the rule to write config file, and will provide some examples and templates.</p>
<ul class="simple">
<li><a class="reference external" href="#Template">Template</a> (the templates of an config file)</li>
<li><a class="reference external" href="#Configuration">Configuration spec</a> (the configuration specification of every attribute in config file)</li>
<li><a class="reference external" href="#Examples">Examples</a> (the examples of config file)</li>
</ul>
<p><a name="Template"></a></p>
<div class="section" id="template">
<h2>Template<a class="headerlink" href="#template" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>light weight(without Annotation and Assessor)</strong></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span>
<span class="nt">experimentName</span><span class="p">:</span>
<span class="nt">trialConcurrency</span><span class="p">:</span>
<span class="nt">maxExecDuration</span><span class="p">:</span>
<span class="nt">maxTrialNum</span><span class="p">:</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span>
<span class="nt">searchSpacePath</span><span class="p">:</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="c1">#choice: TPE, Random, Anneal, Evolution</span>
  <span class="nt">builtinTunerName</span><span class="p">:</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span>
  <span class="nt">gpuNum</span><span class="p">:</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">command</span><span class="p">:</span>
  <span class="nt">codeDir</span><span class="p">:</span>
  <span class="nt">gpuNum</span><span class="p">:</span>
<span class="c1">#machineList can be empty if the platform is local</span>
<span class="nt">machineList</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span>
    <span class="nt">port</span><span class="p">:</span>
    <span class="nt">username</span><span class="p">:</span>
    <span class="nt">passwd</span><span class="p">:</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>Use Assessor</strong></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span>
<span class="nt">experimentName</span><span class="p">:</span>
<span class="nt">trialConcurrency</span><span class="p">:</span>
<span class="nt">maxExecDuration</span><span class="p">:</span>
<span class="nt">maxTrialNum</span><span class="p">:</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span>
<span class="nt">searchSpacePath</span><span class="p">:</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="c1">#choice: TPE, Random, Anneal, Evolution</span>
  <span class="nt">builtinTunerName</span><span class="p">:</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span>
  <span class="nt">gpuNum</span><span class="p">:</span>
<span class="nt">assessor</span><span class="p">:</span>
  <span class="c1">#choice: Medianstop</span>
  <span class="nt">builtinAssessorName</span><span class="p">:</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span>
  <span class="nt">gpuNum</span><span class="p">:</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">command</span><span class="p">:</span>
  <span class="nt">codeDir</span><span class="p">:</span>
  <span class="nt">gpuNum</span><span class="p">:</span>
<span class="c1">#machineList can be empty if the platform is local</span>
<span class="nt">machineList</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span>
    <span class="nt">port</span><span class="p">:</span>
    <span class="nt">username</span><span class="p">:</span>
    <span class="nt">passwd</span><span class="p">:</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>Use Annotation</strong></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span>
<span class="nt">experimentName</span><span class="p">:</span>
<span class="nt">trialConcurrency</span><span class="p">:</span>
<span class="nt">maxExecDuration</span><span class="p">:</span>
<span class="nt">maxTrialNum</span><span class="p">:</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="c1">#choice: TPE, Random, Anneal, Evolution</span>
  <span class="nt">builtinTunerName</span><span class="p">:</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span>
  <span class="nt">gpuNum</span><span class="p">:</span>
<span class="nt">assessor</span><span class="p">:</span>
  <span class="c1">#choice: Medianstop</span>
  <span class="nt">builtinAssessorName</span><span class="p">:</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span>
  <span class="nt">gpuNum</span><span class="p">:</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">command</span><span class="p">:</span>
  <span class="nt">codeDir</span><span class="p">:</span>
  <span class="nt">gpuNum</span><span class="p">:</span>
<span class="c1">#machineList can be empty if the platform is local</span>
<span class="nt">machineList</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span>
    <span class="nt">port</span><span class="p">:</span>
    <span class="nt">username</span><span class="p">:</span>
    <span class="nt">passwd</span><span class="p">:</span>
</pre></div>
</div>
<p><a name="Configuration"></a></p>
</div>
<div class="section" id="configuration-spec">
<h2>Configuration spec<a class="headerlink" href="#configuration-spec" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><strong>authorName</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>authorName</strong> is the name of the author who create the experiment.
TBD: add default value</p>
</li>
</ul>
</li>
<li><p class="first"><strong>experimentName</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>experimentName</strong> is the name of the experiment created.TBD: add default value</p>
</li>
</ul>
</li>
<li><p class="first"><strong>trialConcurrency</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>trialConcurrency</strong> specifies the max num of trial jobs run simultaneously.</p>
<p>Note: if trialGpuNum is bigger than the free gpu numbers, and the trial jobs running simultaneously can not reach trialConcurrency number, some trial jobs will be put into a queue to wait for gpu allocation.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>maxExecDuration</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>maxExecDuration</strong> specifies the max duration time of an experiment.The unit of the time is {<strong>s</strong>, <strong>m</strong>, <strong>h</strong>, <strong>d</strong>}, which means {<em>seconds</em>, <em>minutes</em>, <em>hours</em>, <em>days</em>}.</p>
<p>Note: The maxExecDuration spec set the time of an experiment, not a trial job. If the experiment reach the max duration time, the experiment will not stop, but could not submit new trial jobs any more.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>maxTrialNum</strong></p>
<ul class="simple">
<li>Description</li>
</ul>
<p><strong>maxTrialNum</strong> specifies the max number of trial jobs created by NNI, including succeeded and failed jobs.</p>
</li>
<li><p class="first"><strong>trainingServicePlatform</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>trainingServicePlatform</strong> specifies the platform to run the experiment, including {<strong>local</strong>, <strong>remote</strong>, <strong>pai</strong>, <strong>kubeflow</strong>}.</p>
<ul class="simple">
<li><strong>local</strong> run an experiment on local ubuntu machine.</li>
<li><strong>remote</strong> submit trial jobs to remote ubuntu machines, and <strong>machineList</strong> field should be filed in order to set up SSH connection to remote machine.</li>
<li><strong>pai</strong>  submit trial jobs to <a class="reference external" href="https://github.com/Microsoft/pai">OpenPai</a> of Microsoft. For more details of pai configuration, please reference <a class="reference internal" href="PAIMode.html"><span class="doc">PAIMOdeDoc</span></a></li>
<li><strong>kubeflow</strong> submit trial jobs to <a class="reference external" href="https://www.kubeflow.org/docs/about/kubeflow/">kubeflow</a>, NNI support kubeflow based on normal kubernetes and <a class="reference external" href="https://azure.microsoft.com/en-us/services/kubernetes-service/">azure kubernetes</a>.</li>
</ul>
</li>
</ul>
</li>
<li><p class="first"><strong>searchSpacePath</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>searchSpacePath</strong> specifies the path of search space file, which should be a valid path in the local linux machine.</p>
<p>Note: if set useAnnotation=True, the searchSpacePath field should be removed.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>useAnnotation</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>useAnnotation</strong> use annotation to analysis trial code and generate search space.</p>
<p>Note: if set useAnnotation=True, the searchSpacePath field should be removed.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>nniManagerIp</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>nniManagerIp</strong> set the IP address of the machine on which NNI manager process runs. This field is optional, and if it’s not set, eth0 device IP will be used instead.</p>
<p>Note: run ifconfig on NNI manager’s machine to check if eth0 device exists. If not, we recommend to set nnimanagerIp explicitly.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>logDir</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>logDir</strong> configures the directory to store logs and data of the experiment. The default value is <code class="docutils literal notranslate"><span class="pre">&lt;user</span> <span class="pre">home</span> <span class="pre">directory&gt;/nni/experiment</span></code></p>
</li>
</ul>
</li>
<li><p class="first"><strong>logLevel</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>logLevel</strong> sets log level for the experiment, available log levels are: <code class="docutils literal notranslate"><span class="pre">trace,</span> <span class="pre">debug,</span> <span class="pre">info,</span> <span class="pre">warning,</span> <span class="pre">error,</span> <span class="pre">fatal</span></code>. The default value is <code class="docutils literal notranslate"><span class="pre">info</span></code>.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>tuner</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>tuner</strong> specifies the tuner algorithm in the experiment, there are two kinds of ways to set tuner. One way is to use tuner provided by NNI sdk, need to set <strong>builtinTunerName</strong> and <strong>classArgs</strong>. Another way is to use users’ own tuner file, and need to set <strong>codeDirectory</strong>, <strong>classFileName</strong>, <strong>className</strong> and <strong>classArgs</strong>.</p>
</li>
<li><p class="first"><strong>builtinTunerName</strong> and <strong>classArgs</strong></p>
<ul>
<li><p class="first"><strong>builtinTunerName</strong></p>
<p><strong>builtinTunerName</strong> specifies the name of system tuner, NNI sdk provides four kinds of tuner, including {<strong>TPE</strong>, <strong>Random</strong>, <strong>Anneal</strong>, <strong>Evolution</strong>, <strong>BatchTuner</strong>, <strong>GridSearch</strong>}</p>
</li>
<li><p class="first"><strong>classArgs</strong></p>
<p><strong>classArgs</strong> specifies the arguments of tuner algorithm. If the <strong>builtinTunerName</strong> is in {<strong>TPE</strong>, <strong>Random</strong>, <strong>Anneal</strong>, <strong>Evolution</strong>}, user should set <strong>optimize_mode</strong>.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>codeDir</strong>, <strong>classFileName</strong>, <strong>className</strong> and <strong>classArgs</strong></p>
<ul>
<li><p class="first"><strong>codeDir</strong></p>
<p><strong>codeDir</strong> specifies the directory of tuner code.</p>
</li>
<li><p class="first"><strong>classFileName</strong></p>
<p><strong>classFileName</strong> specifies the name of tuner file.</p>
</li>
<li><p class="first"><strong>className</strong></p>
<p><strong>className</strong> specifies the name of tuner class.</p>
</li>
<li><p class="first"><strong>classArgs</strong></p>
<p><strong>classArgs</strong> specifies the arguments of tuner algorithm.</p>
</li>
<li><p class="first"><strong>gpuNum</strong></p>
<p><strong>gpuNum</strong> specifies the gpu number to run the tuner process. The value of this field should be a positive number.</p>
<p>Note: users could only specify one way to set tuner, for example, set {tunerName, optimizationMode} or {tunerCommand, tunerCwd}, and could not set them both.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p class="first"><strong>assessor</strong></p>
<ul>
<li><p class="first">Description</p>
<p><strong>assessor</strong> specifies the assessor algorithm to run an experiment, there are two kinds of ways to set assessor. One way is to use assessor provided by NNI sdk, users need to set <strong>builtinAssessorName</strong> and <strong>classArgs</strong>. Another way is to use users’ own assessor file, and need to set <strong>codeDirectory</strong>, <strong>classFileName</strong>, <strong>className</strong> and <strong>classArgs</strong>.</p>
</li>
<li><p class="first"><strong>builtinAssessorName</strong> and <strong>classArgs</strong></p>
<ul>
<li><p class="first"><strong>builtinAssessorName</strong></p>
<p><strong>builtinAssessorName</strong> specifies the name of system assessor, NNI sdk provides one kind of assessor {<strong>Medianstop</strong>}</p>
</li>
<li><p class="first"><strong>classArgs</strong></p>
<p><strong>classArgs</strong> specifies the arguments of assessor algorithm</p>
</li>
</ul>
</li>
<li><p class="first"><strong>codeDir</strong>, <strong>classFileName</strong>, <strong>className</strong> and <strong>classArgs</strong></p>
<ul>
<li><p class="first"><strong>codeDir</strong></p>
<p><strong>codeDir</strong> specifies the directory of assessor code.</p>
</li>
<li><p class="first"><strong>classFileName</strong></p>
<p><strong>classFileName</strong> specifies the name of assessor file.</p>
</li>
<li><p class="first"><strong>className</strong></p>
<p><strong>className</strong> specifies the name of assessor class.</p>
</li>
<li><p class="first"><strong>classArgs</strong></p>
<p><strong>classArgs</strong> specifies the arguments of assessor algorithm.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>gpuNum</strong></p>
<p><strong>gpuNum</strong> specifies the gpu number to run the assessor process. The value of this field should be a positive number.</p>
<p>Note: users’ could only specify one way to set assessor, for example,set {assessorName, optimizationMode} or {assessorCommand, assessorCwd}, and users could not set them both.If users do not want to use assessor, assessor fileld should leave to empty.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>trial(local, remote)</strong></p>
<ul>
<li><p class="first"><strong>command</strong></p>
<p><strong>command</strong>  specifies the command to run trial process.</p>
</li>
<li><p class="first"><strong>codeDir</strong></p>
<p><strong>codeDir</strong> specifies the directory of your own trial file.</p>
</li>
<li><p class="first"><strong>gpuNum</strong></p>
<p><strong>gpuNum</strong> specifies the num of gpu to run the trial process. Default value is 0.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>trial(pai)</strong></p>
<ul>
<li><p class="first"><strong>command</strong></p>
<p><strong>command</strong>  specifies the command to run trial process.</p>
</li>
<li><p class="first"><strong>codeDir</strong></p>
<p><strong>codeDir</strong> specifies the directory of the own trial file.</p>
</li>
<li><p class="first"><strong>gpuNum</strong></p>
<p><strong>gpuNum</strong> specifies the num of gpu to run the trial process. Default value is 0.</p>
</li>
<li><p class="first"><strong>cpuNum</strong></p>
<p><strong>cpuNum</strong> is the cpu number of cpu to be used in pai container.</p>
</li>
<li><p class="first"><strong>memoryMB</strong></p>
<p><strong>memoryMB</strong> set the momory size to be used in pai’s container.</p>
</li>
<li><p class="first"><strong>image</strong></p>
<p><strong>image</strong> set the image to be used in pai.</p>
</li>
<li><p class="first"><strong>dataDir</strong></p>
<p><strong>dataDir</strong> is the data directory in hdfs to be used.</p>
</li>
<li><p class="first"><strong>outputDir</strong></p>
<p><strong>outputDir</strong> is the output directory in hdfs to be used in pai, the stdout and stderr files are stored in the directory after job finished.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>trial(kubeflow)</strong></p>
<ul>
<li><p class="first"><strong>codeDir</strong></p>
<p><strong>codeDir</strong> is the local directory where the code files in.</p>
</li>
<li><p class="first"><strong>ps(optional)</strong></p>
<p><strong>ps</strong> is the configuration for kubeflow’s tensorflow-operator.</p>
<ul>
<li><p class="first"><strong>replicas</strong></p>
<p><strong>replicas</strong> is the replica number of <strong>ps</strong> role.</p>
</li>
<li><p class="first"><strong>command</strong></p>
<p><strong>command</strong> is the run script in <strong>ps</strong>’s container.</p>
</li>
<li><p class="first"><strong>gpuNum</strong></p>
<p><strong>gpuNum</strong> set the gpu number to be used in <strong>ps</strong> container.</p>
</li>
<li><p class="first"><strong>cpuNum</strong></p>
<p><strong>cpuNum</strong> set the cpu number to be used in <strong>ps</strong> container.</p>
</li>
<li><p class="first"><strong>memoryMB</strong></p>
<p><strong>memoryMB</strong> set the memory size of the container.</p>
</li>
<li><p class="first"><strong>image</strong></p>
<p><strong>image</strong> set the image to be used in <strong>ps</strong>.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>worker</strong></p>
<p><strong>worker</strong> is the configuration for kubeflow’s tensorflow-operator.</p>
<ul>
<li><p class="first"><strong>replicas</strong></p>
<p><strong>replicas</strong> is the replica number of <strong>worker</strong> role.</p>
</li>
<li><p class="first"><strong>command</strong></p>
<p><strong>command</strong> is the run script in <strong>worker</strong>’s container.</p>
</li>
<li><p class="first"><strong>gpuNum</strong></p>
<p><strong>gpuNum</strong> set the gpu number to be used in <strong>worker</strong> container.</p>
</li>
<li><p class="first"><strong>cpuNum</strong></p>
<p><strong>cpuNum</strong> set the cpu number to be used in <strong>worker</strong> container.</p>
</li>
<li><p class="first"><strong>memoryMB</strong></p>
<p><strong>memoryMB</strong> set the memory size of the container.</p>
</li>
<li><p class="first"><strong>image</strong></p>
<p><strong>image</strong> set the image to be used in <strong>worker</strong>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p class="first"><strong>machineList</strong></p>
<p><strong>machineList</strong> should be set if <strong>trainingServicePlatform</strong> is set to remote, or it should be empty.</p>
<ul>
<li><p class="first"><strong>ip</strong></p>
<p><strong>ip</strong> is the ip address of remote machine.</p>
</li>
<li><p class="first"><strong>port</strong></p>
<p><strong>port</strong> is the ssh port to be used to connect machine.</p>
<p>Note: if users set port empty, the default value will be 22.</p>
</li>
<li><p class="first"><strong>username</strong></p>
<p><strong>username</strong> is the account of remote machine.</p>
</li>
<li><p class="first"><strong>passwd</strong></p>
<p><strong>passwd</strong> specifies the password of the account.</p>
</li>
<li><p class="first"><strong>sshKeyPath</strong></p>
<p>If users use ssh key to login remote machine, could set <strong>sshKeyPath</strong> in config file. <strong>sshKeyPath</strong> is the path of ssh key file, which should be valid.</p>
<p>Note: if users set passwd and sshKeyPath simultaneously, NNI will try passwd.</p>
</li>
<li><p class="first"><strong>passphrase</strong></p>
<p><strong>passphrase</strong> is used to protect ssh key, which could be empty if users don’t have passphrase.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>kubeflowConfig</strong>:</p>
<ul>
<li><p class="first"><strong>operator</strong></p>
<p><strong>operator</strong> specify the kubeflow’s operator to be used, NNI support <strong>tf-operator</strong> in current version.</p>
</li>
<li><p class="first"><strong>storage</strong></p>
<p><strong>storage</strong> specify the storage type of kubeflow, including {<strong>nfs</strong>, <strong>azureStorage</strong>}. This field is optional, and the default value is <strong>nfs</strong>. If the config use azureStorage, this field must be completed.</p>
</li>
<li><p class="first"><strong>nfs</strong></p>
<p><strong>server</strong> is the host of nfs server</p>
<p><strong>path</strong> is the mounted path of nfs</p>
</li>
<li><p class="first"><strong>keyVault</strong></p>
<p>If users want to use azure kubernetes service, they should set keyVault to storage the private key of your azure storage account. Refer: https://docs.microsoft.com/en-us/azure/key-vault/key-vault-manage-with-cli2</p>
<ul>
<li><p class="first"><strong>vaultName</strong></p>
<p><strong>vaultName</strong> is the value of <code class="docutils literal notranslate"><span class="pre">--vault-name</span></code> used in az command.</p>
</li>
<li><p class="first"><strong>name</strong></p>
<p><strong>name</strong> is the value of <code class="docutils literal notranslate"><span class="pre">--name</span></code> used in az command.</p>
</li>
</ul>
</li>
<li><p class="first"><strong>azureStorage</strong></p>
<p>If users use azure kubernetes service, they should set azure storage account to store code files.</p>
<ul>
<li><p class="first"><strong>accountName</strong></p>
<p><strong>accountName</strong> is the name of azure storage account.</p>
</li>
<li><p class="first"><strong>azureShare</strong></p>
<p><strong>azureShare</strong> is the share of the azure file storage.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p class="first"><strong>paiConfig</strong></p>
<ul>
<li><p class="first"><strong>userName</strong></p>
<p><strong>userName</strong> is the user name of your pai account.</p>
</li>
<li><p class="first"><strong>password</strong></p>
<p><strong>password</strong> is the password of the pai account.</p>
</li>
<li><p class="first"><strong>host</strong></p>
<p><strong>host</strong> is the host of pai.</p>
</li>
</ul>
</li>
</ul>
<p><a name="Examples"></a></p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><strong>local mode</strong></p>
<p>If users want to run trial jobs in local machine, and use annotation to generate search space, could use the following config:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
<span class="nt">experimentName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_experiment</span>
<span class="nt">trialConcurrency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="nt">maxExecDuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1h</span>
<span class="nt">maxTrialNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="c1">#choice: TPE, Random, Anneal, Evolution</span>
  <span class="nt">builtinTunerName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TPE</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python3 mnist.py</span>
  <span class="nt">codeDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/mnist</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
<p>You can add assessor configuration.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
<span class="nt">experimentName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_experiment</span>
<span class="nt">trialConcurrency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="nt">maxExecDuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1h</span>
<span class="nt">maxTrialNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
<span class="nt">searchSpacePath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/search_space.json</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="c1">#choice: TPE, Random, Anneal, Evolution</span>
  <span class="nt">builtinTunerName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TPE</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">assessor</span><span class="p">:</span>
  <span class="c1">#choice: Medianstop</span>
  <span class="nt">builtinAssessorName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Medianstop</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python3 mnist.py</span>
  <span class="nt">codeDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/mnist</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
<p>Or you could specify your own tuner and assessor file as following,</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
<span class="nt">experimentName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_experiment</span>
<span class="nt">trialConcurrency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="nt">maxExecDuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1h</span>
<span class="nt">maxTrialNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
<span class="nt">searchSpacePath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/search_space.json</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="nt">codeDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/tuner</span>
  <span class="nt">classFileName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mytuner.py</span>
  <span class="nt">className</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MyTuner</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">assessor</span><span class="p">:</span>
  <span class="nt">codeDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/assessor</span>
  <span class="nt">classFileName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">myassessor.py</span>
  <span class="nt">className</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MyAssessor</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python3 mnist.py</span>
  <span class="nt">codeDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/mnist</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>remote mode</strong></p>
<p>If run trial jobs in remote machine, users could specify the remote mahcine information as fllowing format:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
<span class="nt">experimentName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_experiment</span>
<span class="nt">trialConcurrency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="nt">maxExecDuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1h</span>
<span class="nt">maxTrialNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">remote</span>
<span class="nt">searchSpacePath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/search_space.json</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="c1">#choice: TPE, Random, Anneal, Evolution</span>
  <span class="nt">builtinTunerName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TPE</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python3 mnist.py</span>
  <span class="nt">codeDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/mnist</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="c1">#machineList can be empty if the platform is local</span>
<span class="nt">machineList</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.10.10.10</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">22</span>
    <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
    <span class="nt">passwd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
  <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.10.10.11</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">22</span>
    <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
    <span class="nt">passwd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
  <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.10.10.12</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">22</span>
    <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
    <span class="nt">sshKeyPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/nni/sshkey</span>
    <span class="nt">passphrase</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">qwert</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>pai mode</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
<span class="nt">experimentName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nni_test1</span>
<span class="nt">trialConcurrency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="l l-Scalar l-Scalar-Plain">maxExecDuration:500h</span>
<span class="nt">maxTrialNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pai</span>
<span class="nt">searchSpacePath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">search_space.json</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="c1">#choice: TPE, Random, Anneal, Evolution, BatchTuner</span>
  <span class="c1">#SMAC (SMAC should be installed through nnictl)</span>
  <span class="nt">builtinTunerName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TPE</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python3 main.py</span>
  <span class="nt">codeDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">.</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
  <span class="nt">cpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
  <span class="nt">memoryMB</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10000</span>
  <span class="c1">#The docker image to run NNI job on pai</span>
  <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">msranni/nni:latest</span>
  <span class="c1">#The hdfs directory to store data on pai, format &#39;hdfs://host:port/directory&#39;</span>
  <span class="nt">dataDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">hdfs://10.11.12.13:9000/test</span>
  <span class="c1">#The hdfs directory to store output data generated by NNI, format &#39;hdfs://host:port/directory&#39;</span>
  <span class="nt">outputDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">hdfs://10.11.12.13:9000/test</span>
<span class="nt">paiConfig</span><span class="p">:</span>
  <span class="c1">#The username to login pai</span>
  <span class="nt">userName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
  <span class="c1">#The password to login pai</span>
  <span class="nt">passWord</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test</span>
  <span class="c1">#The host of restful server of pai</span>
  <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.10.10.10</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>kubeflow mode</strong></p>
<p>kubeflow with nfs storage.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">experimentName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example_mni</span>
<span class="nt">trialConcurrency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="nt">maxExecDuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1h</span>
<span class="nt">maxTrialNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubeflow</span>
<span class="nt">searchSpacePath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">search_space.json</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="c1">#choice: TPE, Random, Anneal, Evolution</span>
  <span class="nt">builtinTunerName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TPE</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">codeDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">.</span>
  <span class="nt">worker</span><span class="p">:</span>
    <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python3 mnist.py</span>
    <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
    <span class="nt">cpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">memoryMB</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8192</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">msranni/nni:latest</span>
<span class="nt">kubeflowConfig</span><span class="p">:</span>
  <span class="nt">operator</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tf-operator</span>
  <span class="nt">nfs</span><span class="p">:</span>
    <span class="nt">server</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.10.10.10</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/nfs/general</span>
</pre></div>
</div>
<p>kubeflow with azure storage</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">authorName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">experimentName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">example_mni</span>
<span class="nt">trialConcurrency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="nt">maxExecDuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1h</span>
<span class="nt">maxTrialNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="c1">#choice: local, remote, pai, kubeflow</span>
<span class="nt">trainingServicePlatform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubeflow</span>
<span class="nt">searchSpacePath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">search_space.json</span>
<span class="c1">#choice: true, false</span>
<span class="nt">useAnnotation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="c1">#nniManagerIp: 10.10.10.10</span>
<span class="nt">tuner</span><span class="p">:</span>
  <span class="c1">#choice: TPE, Random, Anneal, Evolution</span>
  <span class="nt">builtinTunerName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TPE</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="c1">#choice: maximize, minimize</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
<span class="nt">assessor</span><span class="p">:</span>
  <span class="nt">builtinAssessorName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Medianstop</span>
  <span class="nt">classArgs</span><span class="p">:</span>
    <span class="nt">optimize_mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">maximize</span>
  <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">trial</span><span class="p">:</span>
  <span class="nt">codeDir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">.</span>
  <span class="nt">worker</span><span class="p">:</span>
    <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">python3 mnist.py</span>
    <span class="nt">gpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
    <span class="nt">cpuNum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
    <span class="nt">memoryMB</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4096</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">msranni/nni:latest</span>
<span class="nt">kubeflowConfig</span><span class="p">:</span>
  <span class="nt">operator</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tf-operator</span>
  <span class="nt">keyVault</span><span class="p">:</span>
    <span class="nt">vaultName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Contoso-Vault</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AzureStorageAccountKey</span>
  <span class="nt">azureStorage</span><span class="p">:</span>
    <span class="nt">accountName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">storage</span>
    <span class="nt">azureShare</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">share01</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tuners.html" class="btn btn-neutral float-right" title="Tuners" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="SearchSpaceSpec.html" class="btn btn-neutral" title="Search Space" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Microsoft

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>